---
driver:
  name: docker

platforms:
  - name: instance
    image: python:3.13-slim
    pre_build_image: true
    command: ""
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      DOCKER_HOST: unix:///var/run/docker.sock

provisioner:
  name: ansible
  config_options:
    defaults:
      callback_whitelist: profile_tasks
  inventory:
    group_vars:
      all:
        ansible_python_interpreter: /usr/bin/python3
  playbooks:
    prepare: ${MOLECULE_PREPARE_PLAYBOOK:-prepare.yml}
    converge: ${MOLECULE_PLAYBOOK:-converge.yml}

verifier:
  name: ansible
  options:
    playbooks:
      verify: ${MOLECULE_VERIFY_PLAYBOOK:-verify.yml} 